webpackJsonp([1],{"07Np":function(t,e){},"5s8g":function(t,e){},"6LMe":function(t,e){},"8UDY":function(t,e){},"9+yc":function(t,e){},JpS0:function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n("VCXJ"),i={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var s=n("Z0/y")({name:"App",mounted:function(){}},i,!1,function(t){n("6LMe")},null,null).exports,a=n("zO6J"),r=n("4YfN"),c=n.n(r),l=n("ZLEe"),u=n.n(l),h={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("mu-list",{staticClass:"slist"},t._l(t.lines,function(e){return n("mu-list-item",{attrs:{title:e.name,toggleNested:""}},[n("mu-icon",{attrs:{slot:"left",value:"inbox"},slot:"left"}),t._v(" "),n("mu-list-item",{attrs:{slot:"nested",title:"Starred"},slot:"nested"},[n("mu-icon",{attrs:{slot:"left",value:"grade"},slot:"left"})],1)],1)}))},staticRenderFns:[]};n("Z0/y")({},h,!1,function(t){n("rA7/")},"data-v-7269df1e",null).exports;var m=n("9rMa"),d={"北京":["北京"],"广东":["广州","深圳","珠海","汕头","韶关","佛山","江门","湛江","茂名","肇庆","惠州","梅州","汕尾","河源","阳江","清远","东莞","中山","潮州","揭阳","云浮"],"上海":["上海"]},f={data:function(){return{open:!1,docked:!0,paths:this.$router.options.routes[0].children,hasTitie:!1,bottomSheet:!1,stationSlots:[{width:"100%",textAlign:"right",values:u()(d)},{width:"100%",textAlign:"left",values:["北京"]}],station:["北京","北京"],stationProvince:"北京",stationCity:"北京"}},mounted:function(){},computed:c()({},Object(m.c)({title:"headerTitle"}),Object(m.b)({lines:"getLines"})),methods:{toggle:function(t){this.open=!this.open,this.docked=!t},go:function(t){this.$router.push({name:t}),this.$store.commit("setHeaderTitle",this.$route.name)},closeBottomSheet:function(){this.bottomSheet=!1},openBottomSheet:function(){this.bottomSheet=!0,console.log(this.lines)},stationChange:function(t,e){switch(e){case 0:this.stationProvince=t;var n=d[t];this.stationSlots[1].values=n,this.stationCity=n[0];break;case 1:this.stationCity=t}this.station=[this.stationProvince,this.stationCity]}}},p={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"header"},[n("mu-appbar",[n("mu-icon-button",{attrs:{slot:"left",icon:"menu"},on:{click:function(e){t.toggle(!0)}},slot:"left"}),t._v(" "),"首页"===t.title?n("mu-text-field",{staticClass:"appbar-search-field",attrs:{slot:"right",icon:"search",hintText:"搜索站点"},on:{focus:t.openBottomSheet},slot:"right"}):t._e(),t._v(" "),"首页"===t.title?n("mu-flat-button",{attrs:{slot:"right",color:"white",label:"取消"},slot:"right"}):t._e(),t._v(" "),"首页"!==t.title?n("span",{staticClass:"title"},[t._v(t._s(t.title))]):t._e()],1),t._v(" "),n("mu-drawer",{attrs:{open:t.open,docked:t.docked},on:{close:function(e){t.toggle()}}},[n("mu-list",{on:{itemClick:function(e){!t.docked&&t.toggle()}}},t._l(t.paths,function(e){return n("mu-list-item",{attrs:{title:e.name},on:{click:function(n){t.go(e.name)}}})}))],1),t._v(" "),n("mu-bottom-sheet",{attrs:{open:t.bottomSheet},on:{close:t.closeBottomSheet}},[n("mu-list",{on:{itemClick:t.closeBottomSheet}},[n("mu-picker",{attrs:{slots:t.stationSlots,"visible-item-count":5,values:t.station},on:{change:t.stationChange}})],1)],1)],1)},staticRenderFns:[]};var v={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"header"},[n("mu-appbar",[n("mu-icon-button",{attrs:{slot:"left",icon:"menu"},on:{click:function(e){t.toggle(!0)}},slot:"left"}),t._v(" "),n("mu-text-field",{staticClass:"appbar-search-field",attrs:{slot:"right",icon:"search",hintText:"搜索站点"},slot:"right"}),t._v(" "),n("mu-flat-button",{attrs:{slot:"right",color:"white",label:"取消"},slot:"right"})],1),t._v(" "),n("mu-drawer",{attrs:{open:t.open,docked:t.docked},on:{close:function(e){t.toggle()}}},[n("mu-list",{on:{itemClick:function(e){!t.docked&&t.toggle()}}},t._l(t.paths,function(e){return n("mu-list-item",{attrs:{title:e.name},on:{click:function(n){t.go(e.name)}}})}))],1)],1)},staticRenderFns:[]};var g={mounted:function(){this.$router.push("metromap")},components:{"m-header":n("Z0/y")(f,p,!1,function(t){n("dVOA")},"data-v-3d74f11d",null).exports,"m-subheader":n("Z0/y")({data:function(){return{open:!1,docked:!0,paths:this.$router.options.routes[0].children}},mounted:function(){},methods:{toggle:function(t){this.open=!this.open,this.docked=!t},go:function(t){this.$router.push({name:t})}},components:{}},v,!1,function(t){n("fIZF")},"data-v-65fac04e",null).exports}},_={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("m-header"),this._v(" "),e("router-view")],1)},staticRenderFns:[]},y=n("Z0/y")(g,_,!1,null,null,null).exports,C=n("2sCs"),b=n.n(C),w={mounted:function(){},methods:{choose:function(t){this.cityInfo.code=t.$options.propsData.value,this.cityInfo.name=t.$options.propsData.title,this.cityInfo.city=t.$options.propsData.describeText,this.$store.commit("setCurrentCityInfo",this.cityInfo),this.$router.push("metromap"),this.$store.commit("setHeaderTitle","首页"),b.a.get("http://127.0.0.1:3000").then(function(t){console.log(t)})}},data:function(){return{cityInfo:{code:"",name:"",city:""}}},computed:Object(m.b)({cities:"getCities"})},$={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"clist"},[n("mu-list",{on:{itemClick:t.choose}},t._l(t.cities,function(e){return n("mu-list-item",{staticClass:"clist-item",attrs:{title:e[1].name,value:e[0],describeText:e[1].city}},[e[0]===t.$store.state.currentCityInfo.code?n("mu-icon",{attrs:{slot:"right",value:"info"},slot:"right"}):t._e()],1)}))],1)},staticRenderFns:[]};var k=n("Z0/y")(w,$,!1,function(t){n("JpS0")},"data-v-bf5c29f6",null).exports,x={render:function(){var t=this.$createElement;return(this._self._c||t)("div",[this._v("\r\n  站点信息\r\n")])},staticRenderFns:[]},S=n("Z0/y")(null,x,!1,null,null,null).exports,I={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"loadbox"},[e("mu-circular-progress",{attrs:{size:60}}),this._v(" "),e("p",[this._v("正在加载，请稍后")])],1)},staticRenderFns:[]};var L={data:function(){return{map:"",lines:[],showLoading:!0}},mounted:function(){var t=this;setTimeout(function(){t.showLoading=!1,t.init()},2e3)},methods:{init:function(){var t=this;console.log("before created:",this.map),this.map=subway("mainmap",{adcode:this.$store.state.currentCityInfo.code,theme:"colorful",easy:1}),console.log("created:",this.map),this.map.event.on("subway.complete",function(){t.$store.commit("setCurrentCityMap",t.map)}),console.log("complete:",this.map)}},components:{"m-loading":n("Z0/y")(null,I,!1,function(t){n("9+yc")},"data-v-6ec667e8",null).exports}},T={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("m-loading",{directives:[{name:"show",rawName:"v-show",value:this.showLoading,expression:"showLoading"}]}),this._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:!this.showLoading,expression:"!showLoading"}],attrs:{id:"mainmap"}})],1)},staticRenderFns:[]};var Z=n("Z0/y")(L,T,!1,function(t){n("8UDY")},"data-v-81d56f00",null).exports;o.default.use(a.a);var F=[{path:"",component:y,children:[{path:"metromap",name:"首页",component:Z},{path:"choosecity",name:"选择城市",component:k},{path:"stations",name:"站点信息",component:S},{path:"transfer",name:"换乘查询",component:S},{path:"settings",name:"设置",component:S}]}],E=new a.a({routes:F}),M=n("Q+Ik"),A=n.n(M);o.default.use(m.a);var R=new m.a.Store({state:{currentCityMap:"",currentCityInfo:{code:"3100",name:"上海",city:"shanghai"},headerTitle:"首页"},mutations:{setCurrentCityMap:function(t,e){t.currentCityMap=e},setCurrentCityInfo:function(t,e){t.currentCityInfo=e},setHeaderTitle:function(t,e){t.headerTitle=e}},getters:{getCities:function(t){var e=[];return t.currentCityMap.getCityList(function(t){e=A()(t)}),e},getLines:function(t){var e=[];return t.currentCityMap.getLineList(function(t){e=t}),e}}}),N=n("q2H9"),O=n.n(N),B=n("KvBz"),H=n.n(B);n("5s8g"),n("07Np");o.default.config.productionTip=!1,o.default.use(O.a),o.default.use(H.a),new o.default({el:"#app",router:E,components:{App:s},template:"<App/>",store:R})},dVOA:function(t,e){},fIZF:function(t,e){},"rA7/":function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.0a5c42165cf84bbf04d8.js.map